[package]
authors = ["Interlay Ltd"]
edition = "2021"
name = 'parachain-tests'
version = "1.2.0"

[package.metadata.docs.rs]
targets = ['x86_64-unknown-linux-gnu']

[dependencies]
env_logger = { version = "0.9.1" }
log = { version = "0.4.14" }
serde = { version = "1.0.130", features = ["derive"] }
codec = { package = "parity-scale-codec", version = "3.1.5", features = ["derive", "max-encoded-len"] }
hex-literal = { version = "0.3.1" }
scale-info = { version = "2.2.0", features = ["derive"] }
libsecp256k1 = { version = "0.6" }
pretty_assertions = "0.7.2"
itertools = "0.10.0"
flate2 = "1.0"
rand = "0.8.5"

# Substrate dependencies
sp-std = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-api = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-io = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-version = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-runtime = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-core = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-session = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-offchain = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-block-builder = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-transaction-pool = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-inherents = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-arithmetic = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-timestamp = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }

frame-support = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
frame-executive = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
frame-system = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
frame-benchmarking = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31", optional = true }
frame-system-benchmarking = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31", optional = true }
pallet-balances = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-timestamp = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-utility = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-transaction-payment = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-scheduler = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-multisig = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-sudo = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-preimage = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }

frame-system-rpc-runtime-api = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-transaction-payment-rpc-runtime-api = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }

## Governance
pallet-collective = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-membership = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-society = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }

# Aura dependencies
pallet-authorship = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-aura = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
sp-consensus-aura = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }
pallet-session = { git = "https://github.com/paritytech/substrate", branch = "polkadot-v0.9.31" }

# Cumulus dependencies
cumulus-pallet-aura-ext = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-pallet-parachain-system = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-primitives-core = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-primitives-timestamp = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-primitives-utility = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-pallet-dmp-queue = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-pallet-xcmp-queue = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-pallet-xcm = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }
cumulus-test-relay-sproof-builder = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31"  }
cumulus-primitives-parachain-inherent = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31"  }
parachain-info = { git = "https://github.com/paritytech/cumulus", branch = "polkadot-v0.9.31" }

# Polkadot dependencies
polkadot-parachain = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
polkadot-primitives = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
polkadot-runtime-parachains = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
kusama-runtime = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31"  }
polkadot-runtime = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31"  }
xcm = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
xcm-builder = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
xcm-executor = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
xcm-simulator = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
pallet-xcm = { git = "https://github.com/paritytech/polkadot", branch = "release-v0.9.31" }
xcm-emulator = { git = "https://github.com/shaunxw/xcm-simulator", rev = "bea35c799d725a4233db6b9108ee2ed5bbfc1aed" }

# Parachain dependencies
runtime-common = { path = "../common" }
btc-relay = { path = "../../../crates/btc-relay" }
currency = { path = "../../../crates/currency", features = ["testing-utils"] }
security = { path = "../../../crates/security" }
vault-registry = { path = "../../../crates/vault-registry", features = ["integration-tests"] }
oracle = { path = "../../../crates/oracle" }
fee = { path = "../../../crates/fee" }
issue = { path = "../../../crates/issue" }
redeem = { path = "../../../crates/redeem" }
replace = { path = "../../../crates/replace" }
nomination = { path = "../../../crates/nomination" }
reward = { path = "../../../crates/reward" }
staking = { path = "../../../crates/staking", features = ["integration-tests"] }
escrow = { path = "../../../crates/escrow" }
democracy = { path = "../../../crates/democracy" }
annuity = { path = "../../../crates/annuity" }
supply = { path = "../../../crates/supply" }
collator-selection = { path = "../../../crates/collator-selection" }
clients-info = { path = "../../../crates/clients-info" }
loans = { path = "../../../crates/loans", features = ["integration-tests"] }
traits = { path = "../../../crates/traits" }
farming = { path = "../../../crates/farming" }
tx-pause = { path = "../../../crates/tx-pause" }
dex-general = { path = "../../../crates/dex-general" }
dex-stable = { path = "../../../crates/dex-stable" }
dex-swap-router = { path = "../../../crates/dex-swap-router" }
multi-transaction-payment = { path = "../../../crates/multi-transaction-payment" }

interlay-runtime-parachain = { path = "../interlay", optional = true, features = ["vesting-any"] }
kintsugi-runtime-parachain = { path = "../kintsugi", optional = true, features = ["vesting-any"] }

primitives = { package = "interbtc-primitives", path = "../../../primitives" }

btc-relay-rpc-runtime-api = { path = "../../../crates/btc-relay/rpc/runtime-api" }
oracle-rpc-runtime-api = { path = "../../../crates/oracle/rpc/runtime-api" }
vault-registry-rpc-runtime-api = { path = "../../../crates/vault-registry/rpc/runtime-api" }
issue-rpc-runtime-api = { path = "../../../crates/issue/rpc/runtime-api" }
redeem-rpc-runtime-api = { path = "../../../crates/redeem/rpc/runtime-api" }
replace-rpc-runtime-api = { path = "../../../crates/replace/rpc/runtime-api" }

# Orml dependencies
orml-tokens = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }
orml-traits = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }
orml-vesting = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }

orml-xtokens = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }
orml-xcm = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }
orml-xcm-support = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }
orml-unknown-tokens = { git = "https://github.com/open-web3-stack/open-runtime-module-library", rev = "dc39cfddefb10ef0de23655e2c3dcdab66a19404" }

[dev-dependencies]
hex = '0.4.2'
mocktopus = "0.8.0"
serde_json = "1.0"

bitcoin = { path = "../../../crates/bitcoin" }

[features]
default = ["std"]
std = []
skip-slow-tests = []

with-interlay-runtime = [
	"interlay-runtime-parachain"
]
with-kintsugi-runtime = [
	"kintsugi-runtime-parachain"
]